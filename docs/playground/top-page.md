# Mastra Playground トップページ要件定義

## 目的
- Mastra の検証ページ群の入口となるトップページを用意し、各機能検証ページへの導線・概要・警告事項を一元的に提示する。
- サーバーサイド専用運用（Zero-Exposure 原則）とローカル検証前提を明確に伝え、開発者に安全な利用フローを示す。
- 今後追加される各 Playground ページの仕様・観測ポイントを見渡せるハブとして機能させ、拡張性を確保する。
- モダンな見た目と情報設計で UI/UX を向上させ、開発者が目的の検証ページへ迷わず遷移できる体験を提供する。

## 受入基準
- `app/` 配下にトップページ（仮ルート：`/playground`）の構造を定義し、SSR / CSR / SSG いずれを採用するかを比較検討した結果（今回の改修が画面のみである旨を含む）を docs に記録する。
- ページ内に以下を最低限含める。
  - Mastra Playground の目的と利用時の注意事項。
  - 利用可能（または計画中）の検証機能カテゴリと各ページへのリンク枠（プレースホルダー可）。リンクは今後の機能追加に伴い拡張される前提で、増減に耐えられるレイアウトとする。
  - Bedrock 資格情報やツールがクライアントに露出しない旨の注意と server-only 運用手順。
  - ローカル環境変数セットアップの概要と docs への参照。
- UI は shadcn/ui または MUI（併用可）を用いて現代的なスタイルを表現し、採用理由と再利用方針を docs に残せる構成案を提示する。
- 今回の改修範囲が画面および静的データ層に限定され、サーバーサイドロジックや API 実装が不要であることを明言する。
- レート制限・入力サイズ・ログ取得など、将来の運用ポリシーを参照できるセクションへの導線を表示する。
- TypeScript strict 下で型が解決可能な構造（`Props` 定義、zod/schema 必要箇所のプレースホルダー）を準備する。
- ページ専用のユニットテスト観点（スナップショットまたはレンダリング検証）を洗い出し、テスト項目草案を本書に明記する。

## 影響範囲
- **UI**: Next.js App Router の新規ページ追加、共通レイアウトへの影響確認、shadcn/ui / MUI コンポーネントの導入判断。
- **API**: トップページ自体は API 呼出しを行わない。各機能ページへのリンク分岐を定義する際に API エントリの命名規則を参照する。
- **ツール**: メタ情報表示のみでツール実行は行わない。ツール構成の一覧を静的データとして読み込む場合は server-only モジュールから取得する。
- **ログ**: ページ表示時のログ要件は最低限。将来的に各 Playground の利用状況を記録する計画がある旨を記載する。
- **テスト**: UI レンダリングテストの追加、リンク存在検証、採用したレンダリング方式に応じたバンドル内容の検証手段を整理する。

## 非機能要件
### 性能
- レンダリング方式（SSR / CSR / SSG）は UI/UX と保守性を優先して選択し、初期表示で不要なクライアントバンドルを増やさないよう最適化する。
- 将来的に Playground 一覧が増えても、静的データまたは軽量 API から取得できる構造にする。

### セキュリティ
- クライアント側に `NEXT_PUBLIC_*` 等の変数を露出させない方針を明記。
- Bedrock 設定や AWS 資格情報に関する情報は環境変数名のみ記載し、値を出力しない。
- 今後のページ追加時も API 経由でしかエージェントを実行しないことを明確にする注意書きを掲載する。

## 検証方法
- `bun test`（または設定予定のテストスクリプト）でトップページ用のユニットテストが追加されていることを確認する。
- `bun lint` / `bun biome check` 相当で静的解析が通ることを確認する。
- ブラウザで `/playground` を開き、採用したレンダリング方式に応じてネットワーク・JS プロファイルを確認し、不要なクライアントバンドルや機密情報の露出がないことを検証する。
- 生成される HTML / ビルド成果物にクレデンシャルやサーバー専用モジュールが含まれていないことを確認する。

## 付記
- UI ライブラリの選定理由比較（shadcn/ui vs MUI）は別途 Decision Record を追加し、本ページではリンクのみ提示する想定。
- 今後の各 Playground ページ追加時は本ページの構造を踏襲し、docs/ 配下に要件定義を順次追加する。
